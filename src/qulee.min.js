!function(n){"use strict";function e(){var n=[],u=[],t=null,o=!1,i=!1,c={onQueue:[],onDequeue:[],onArchive:[],onDuplicate:[],onLock:[]};function s(n,e){n.forEach(function(n){n(e)})}this.enqueue=function(e){return o?s(c.onLock,e):!i&&n.indexOf(e)>-1?s(c.onDuplicate,e):(n.push(e),s(c.onQueue,e)),this},this.dequeue=function(){return t=n.shift(),s(c.onDequeue,t),t},this.clear=function(){n=[]},this.current=function(){return t},this.archive=function(){t&&(u.push(t),s(c.onArchive,t))},this.lock=function(){o=!0},this.unlock=function(){o=!1},this.size=function(e){return e?this[e].size():n.length},this.last=function(){return n.length?n[n.length-1]:this.current()},this.createNamedQueue=function(n){return this[n]=new e},this.setAllowDuplicate=function(n){i=!!n},this.executeOnQueue=function(e,u){if(u){var t=this.dequeue();t&&e(t)}else n.forEach(function(n){e(n)})},this.onQueue=function(n){c.onQueue.push(n)},this.onDequeue=function(n){c.onDequeue.push(n)},this.onLock=function(n){c.onDuplicate.push(n)},this.onLock=function(n){c.onDuplicate.push(n)}}"object"==typeof module&&"object"==typeof module.exports?module.exports=new e:n.qulee=new e}(function(){return window||!1}||global);