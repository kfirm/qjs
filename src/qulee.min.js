!function(e){"use strict";function n(){var e=[],u=[],t=null,o=!1,i=!1,c={onQueue:[],onDequeue:[],onArchive:[],onDuplicate:[],onLock:[]};function s(e,n){e.forEach(function(e){e(n)})}this.enqueue=function(n){return o?s(c.onLock,n):!i&&e.indexOf(n)>-1?s(c.onDuplicate,n):(e.push(n),s(c.onQueue,n)),this},this.dequeue=function(){return t=e.shift(),s(c.onDequeue,t),t},this.clear=function(){e=[]},this.current=function(){return t},this.archive=function(){t&&(u.push(t),s(c.onArchive,t))},this.lock=function(){o=!0},this.unlock=function(){o=!1},this.size=function(n){return n?this[n].size():e.length},this.last=function(){return e.length?e[e.length-1]:this.current()},this.createNamedQueue=function(e){return this[e]=new n},this.setAllowDuplicate=function(e){i=!!e},this.executeOnQueue=function(n,u){if(u){var t=this.dequeue();t&&n(t)}else e.forEach(function(e){n(e)})},this.onQueue=function(e){c.onQueue.push(e)},this.onDequeue=function(e){c.onDequeue.push(e)},this.onLock=function(e){c.onDuplicate.push(e)},this.onLock=function(e){c.onDuplicate.push(e)}}"object"==typeof module&&"object"==typeof module.exports?module.exports=new n:e.qulee=new n}(window||global);